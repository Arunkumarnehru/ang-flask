(self.webpackChunkangularposts=self.webpackChunkangularposts||[]).push([[240],{240:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AddpostModule:()=>Z});var r=o(116),n=o(319),i=o(462),s=o(619),l=o(243);function a(t,e){1&t&&(s.TgZ(0,"div"),s._uU(1,"Title is required."),s.qZA())}function c(t,e){1&t&&(s.TgZ(0,"div"),s._uU(1,"Title should be Minimum 3 character."),s.qZA())}function u(t,e){1&t&&(s.TgZ(0,"div"),s._uU(1,"Name should be less then 30 character."),s.qZA())}function d(t,e){if(1&t&&(s.TgZ(0,"div",11),s.YNc(1,a,2,0,"div",12),s.YNc(2,c,2,0,"div",12),s.YNc(3,u,2,0,"div",12),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.title.errors&&t.f.title.errors.required),s.xp6(1),s.Q6J("ngIf",t.f.title.errors&&t.f.title.errors.minlength),s.xp6(1),s.Q6J("ngIf",t.f.title.errors&&t.f.title.errors.maxlength)}}function f(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"form",2),s.NdJ("ngSubmit",function(){s.CHM(t);const e=s.oxw();return e.addPost(e.postForm.value)}),s.TgZ(1,"h2"),s._uU(2,"Create a new post."),s.qZA(),s.TgZ(3,"p"),s._uU(4,"Fill the form to add a new post to the database."),s.qZA(),s.TgZ(5,"div"),s.TgZ(6,"label",3),s._uU(7,"Title"),s.qZA(),s._UZ(8,"input",4),s.YNc(9,d,4,3,"div",5),s.TgZ(10,"label",6),s._uU(11,"Content"),s.qZA(),s._UZ(12,"textarea",7),s.TgZ(13,"label",8),s._uU(14,"Choose a Cover"),s.qZA(),s.TgZ(15,"input",9),s.NdJ("change",function(e){return s.CHM(t),s.oxw().handleInput(e)}),s.qZA(),s.qZA(),s._UZ(16,"input",10),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("formGroup",t.postForm),s.xp6(9),s.Q6J("ngIf",t.f.title.touched&&t.f.title.invalid),s.xp6(7),s.Q6J("disabled",!t.postForm.valid)}}function g(t,e){1&t&&(s.TgZ(0,"div",13),s.TgZ(1,"p"),s._uU(2,"Processing request, please stand by, you will be redirected soon..."),s.qZA(),s.TgZ(3,"div",14),s._uU(4,"Loading..."),s.qZA(),s.qZA())}let p=(()=>{class t{constructor(t,e){this.flaskApiService=t,this.router=e,this.image=null,this.postForm=new i.cw({title:new i.NI("",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(30)]),content:new i.NI("",i.kI.required),cover:new i.NI("",i.kI.required)})}handleInput(t){this.image=t.target.files,console.log(this.image)}addPost(t){this.busy=!0,this.flaskApiService.addPost(t,this.image).subscribe(t=>{this.busy=!1,console.log(t),this.router.navigate(["/"])})}get f(){return this.postForm.controls}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.P),s.Y36(n.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-addpost"]],decls:3,vars:2,consts:[["class","editform",3,"formGroup","ngSubmit",4,"ngIf"],["class","processing",4,"ngIf"],[1,"editform",3,"formGroup","ngSubmit"],["for","title",1,"form-label"],["type","text","formControlName","title","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","content",1,"form-label"],["formControlName","content",1,"form-control"],["for","cover",1,"form-label"],["type","file","name","cover","id","cover","formControlName","cover",3,"change"],["type","submit","value","Submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"processing"],[1,"loader"]],template:function(t,e){1&t&&(s.TgZ(0,"section"),s.YNc(1,f,17,3,"form",0),s.YNc(2,g,5,0,"div",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",!e.busy),s.xp6(1),s.Q6J("ngIf",e.busy))},directives:[r.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Q7],styles:[".editform[_ngcontent-%COMP%]{width:450px;height:auto;margin:auto;border:1px solid #000;border-radius:30px;padding:1rem;text-align:left}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#00008b}"]}),t})();const m=[{path:"",component:p}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.Bz.forChild(m)],n.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t,bootstrap:[p]}),t.\u0275inj=s.cJS({providers:[],imports:[[h,i.UX,r.ez]]}),t})()}}]);